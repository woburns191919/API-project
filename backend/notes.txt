npm install && npm run build && npm run sequelize --prefix backend db:seed:undo:all && npm run sequelize --prefix backend db:migrate:undo:all && npm run sequelize --prefix backend db:migrate && npm run sequelize --prefix backend db:seed:all




1) roll back seed files
2) roll back migrations
3) db migrate (remigrate)
4) db seed (reseed)


in package json
"dbreset":
npx dotenv sequelize db:seed:undo:all && npx dotenv sequelize db:migrate:undo:all && npx dotenv sequelize db:migrate && npx dotenv sequelize db:seed:all



Delete render every time make new seed?

Rollback command?

Math on agg functions?

I made a minor change to a seeder file. Render was not happy. Is there a better way-- rather than deleting the postgress instance entirely--to resolve this render build error?


include username with spot from id--this okay?




1) I'm currently working on 'Add an image to a spot basesd on the spot's id' for Air bnb, and when I hit a spot that doesn't exist (i.e. /spots/50/images), I'm getting a server error but am expecting a 404. Any ideas why this could be happening?

2) I'm currently working on 'Create a review for a spot based on the spot's id' for Air bnb, and I can't run the code without hitting my 500 server error. It was working before I implemented this check to ensure reviews weren't duplicated. Is this an issue of error code placement?

3) I'm currently working on 'Get all reviews for a current user' for Air bnb, and I'm having trouble retrieving the 'reviewImages' associated--this is my only real issue with the route. Whenever I try to 'findAll' where the id's match up, I get either null or an empty array. Is this an issue with my methods? I would appreciate any help available.







1) Get Current User: authentication: true, how to log out
2) Edit a spot--accepting invalid body info
3) delete spot--how to check if authenticated user, how to check if owner is owner of spot


Delete User--authorization check




  errors: { credential: 'Please provide a valid email or username.' } vs  "credential": "Email or username is required"
  on Log In User error response





questions for standup:

1) authentication current user vs null?
2) exact error messages, besides the custom validations in put spots/:spotId
3) sign up/log in every time? token? have to go through sign up, login each time
4) associations with reviews?


making changes

dan notes:

1. When there is no preview image, we can either return null or “no preview image”

2. When there is a preview image, preview: false, we still want to return null or “no preview image”

3. Where there is a preview image, preview: true, we want to return the url

4. Where there are multiple preview images, preview: true, we want to return the latest preview: true, and the old preview:true image needs to be updated to preview: false


most basic default page size pagination

add keys


http//image.com

wk13 monday: tips on comparing dates in sequelize
